<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Super Find Bar Options</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-left">
                <img src="../icons/icon128.png" alt="Logo" width="48" height="48">
                <div>
                    <h1>Super Find Bar <span class="version">v1.0.0</span></h1>
                </div>
            </div>
            <div style="display: flex; gap: 12px; align-items: center;">
                <button id="theme-toggle" class="theme-toggle-btn" data-i18n-title="toggleTheme">
                    <span id="theme-icon">🌓</span>
                </button>
                <select id="lang-selector">
                    <option value="zh">🇨🇳 简体中文</option>
                    <option value="en">🇺🇸 English</option>
                </select>
            </div>
        </header>

        <!-- 默认搜索设置 -->
        <section class="settings-section">
            <h2 class="section-title" data-i18n="defaultSearchSettings">默认搜索设置</h2>
            
            <!-- 搜索选项设置（合并） -->
            <div class="setting-item">
                <div class="setting-main search-options-main">
                    <div class="setting-control search-options-control">
                        <!-- 第一行：标题和两个开关的说明在同一行 -->
                        <div class="search-option-header">
                            <span class="setting-label" data-i18n="searchOptions">搜索选项设置</span>
                            <div class="search-option-header-labels">
                                <span class="header-label" data-i18n="showInToolbar">显示在工具栏</span>
                                <span class="header-label" data-i18n="defaultChecked">默认开启</span>
                            </div>
                        </div>
                        <!-- 选项列表 -->
                        <div class="search-options-list">
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="matchCase">区分大小写</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-matchCase">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-matchCase">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="wholeWord">全词匹配</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-wholeWord">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-wholeWord">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="highlightAll">高亮所有</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-highlightAll">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-highlightAll">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="ignoreAccents">忽略重音</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-ignoreAccents">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-ignoreAccents">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="regex">正则表达式</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-regex">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-regex">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="includeHidden">包含隐藏元素</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-includeHidden">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-includeHidden">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="search-option-row">
                                <span class="search-option-label" data-i18n="fuzzy">模糊搜索</span>
                                <div class="search-option-switches">
                                    <div class="switch-wrapper switch-wrapper-first">
                                        <label class="switch" data-i18n-title="showInToolbar">
                                            <input type="checkbox" id="toolbar-fuzzy">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="switch-wrapper switch-wrapper-last">
                                        <label class="switch" data-i18n-title="defaultChecked">
                                            <input type="checkbox" id="opt-fuzzy">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="setting-desc-box" id="fuzzy-tolerance-box" style="display: none;">
                    <div class="fuzzy-tolerance-control">
                        <span data-i18n="fuzzyTolerance">容错字符数</span>
                        <div class="control-group">
                            <input type="range" id="fuzzy-tolerance" min="0" max="15" step="1">
                            <span id="fuzzy-tolerance-value" class="range-value">1</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 搜索强制隐藏内容（高级选项） -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="includeForcedHidden">搜索强制隐藏内容</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-includeForcedHidden">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-desc-box" data-i18n="includeForcedHiddenHint">
                    启用后将搜索开发者刻意隐藏的内容（如 display:none、visibility:hidden 等）。此选项仅影响"包含隐藏元素"开启时的行为。
                </div>
            </div>

            <!-- 自动搜索阈值 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="perfThreshold">自动搜索阈值（节点数）</span>
                    <div class="setting-control" style="display: flex; align-items: center; gap: 8px;">
                        <input type="number" id="perf-threshold" min="1000" max="50000" step="1000">
                        <button id="reset-perf-threshold" class="reset-icon-btn" data-i18n-title="reset">↺</button>
                    </div>
                </div>
                <div class="setting-desc-box" data-i18n="perfThresholdHint">
                    超过此数值将关闭实时搜索，需要手动按 Enter 触发
                </div>
            </div>

            <!-- 滚动行为 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="scrollBehavior">滚动行为</span>
                    <div class="setting-control radio-options">
                        <label class="radio-label">
                            <input type="radio" name="scroll-behavior" value="always-center">
                            <span data-i18n="alwaysCenter">始终居中</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="scroll-behavior" value="only-when-hidden">
                            <span data-i18n="onlyWhenHidden">仅不可见时滚动</span>
                        </label>
                    </div>
                </div>
                <div class="setting-desc-box" data-i18n="scrollBehaviorHint">
                    始终居中：避免被浮动元素遮挡，适合 ChatGPT 等网站 | 仅不可见时滚动：减少跳动，适合长文档阅读
                </div>
            </div>

            <!-- 坐标轴位置 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="axisPosition">坐标轴位置</span>
                    <div class="setting-control axis-control">
                        <!-- X 轴位置（包含显示开关） -->
                        <div class="axis-row">
                            <span class="axis-label" data-i18n="xAxisPosition">X 轴位置</span>
                            <div class="radio-options">
                                <label class="radio-label">
                                    <input type="radio" name="x-axis-position" value="top">
                                    <span data-i18n="axisTop">顶部</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="x-axis-position" value="bottom">
                                    <span data-i18n="axisBottom">底部</span>
                                </label>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="show-x-axis">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <!-- Y 轴位置（包含显示开关） -->
                        <div class="axis-row">
                            <span class="axis-label" data-i18n="yAxisPosition">Y 轴位置</span>
                            <div class="radio-options">
                                <label class="radio-label">
                                    <input type="radio" name="y-axis-position" value="left">
                                    <span data-i18n="axisLeft">左侧</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="y-axis-position" value="right">
                                    <span data-i18n="axisRight">右侧</span>
                                </label>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="show-y-axis">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="setting-desc-box" data-i18n="axisPositionHint">
                    当搜索栏位于底部(BOT)时，X轴会自动调整到顶部，避免遮挡
                </div>
            </div>

            <!-- 显示右下角放大镜按钮 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="showLaunchBtn">显示右下角放大镜按钮</span>
                    <label class="switch">
                        <input type="checkbox" id="show-launch-btn">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 刷新后自动显示 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="persistent">刷新后自动显示搜索栏</span>
                    <label class="switch">
                        <input type="checkbox" id="persistent">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </section>

        <!-- 外观与布局 -->
        <section class="settings-section">
            <h2 class="section-title" data-i18n="appearanceLayout">外观与布局</h2>

            <!-- 窗口位置 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="windowPosition">窗口位置</span>
                    <div class="position-selector">
                        <button class="pos-btn" data-position="top-left">TL</button>
                        <button class="pos-btn" data-position="top-right">TR</button>
                        <button class="pos-btn" data-position="top">TOP</button>
                        <button class="pos-btn" data-position="bottom-left">BL</button>
                        <button class="pos-btn" data-position="bottom-right">BR</button>
                        <button class="pos-btn" data-position="bottom">BOT</button>
                    </div>
                </div>
            </div>

            <!-- 多词颜色方案 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="colorScheme">多词颜色方案</span>
                    <div class="color-group" id="color-pickers-container">
                        <!-- JS 动态生成 -->
                        <div class="color-circle"><input type="color" value="#fce8b2"></div>
                        <div class="color-circle"><input type="color" value="#ccff90"></div>
                        <button id="reset-colors" class="reset-icon-btn" data-i18n-title="reset">↺</button>
                    </div>
                </div>
            </div>

            <!-- 主题颜色 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="themeColors">主题颜色</span>
                    <div class="color-group">
                        <div class="color-circle" data-i18n-title="background"><input type="color" id="theme-bg"></div>
                        <div class="color-circle" data-i18n-title="textColor"><input type="color" id="theme-text"></div>
                    </div>
                </div>
                <div class="setting-desc-box">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="backgroundOpacity">背景透明度</span>
                        <div class="control-group" style="display: flex; align-items: center; gap: 8px;">
                            <input type="range" id="theme-opacity" min="0.5" max="1" step="0.05">
                            <span id="theme-opacity-value" style="width: 30px; text-align: right;">95%</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 快捷键设置 -->
        <section class="settings-section">
            <h2 class="section-title" data-i18n="shortcutSettings">快捷键设置</h2>
            
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="defaultShortcut">默认快捷键</span>
                    <div class="shortcut-display">
                        <span class="key-badge">Ctrl+Shift+F</span>
                        <span style="color:var(--text-secondary); font-size:12px;">(Mac: Cmd+Shift+F)</span>
                        <button id="open-chrome-shortcuts" class="btn btn-primary" style="font-size:12px; padding:4px 12px; margin-left: 8px;">
                            ⚙️ <span data-i18n="customShortcut">自定义快捷键</span>
                        </button>
                    </div>
                </div>
                <div class="setting-desc-box warning">
                    ⚠️ <strong data-i18n="imeConflictWarning">输入法冲突提示：</strong><span data-i18n="imeConflictHint">如果 Ctrl+Shift+F 触发微软输入法简繁切换，请在系统输入法设置中关闭该快捷键。</span> <span data-i18n="shortcutNotWorking">快捷键在扩展商店等系统页面不生效</span>
                </div>
            </div>
        </section>

        <!-- 支持项目 -->
        <section class="support-card">
            <h2>💙 <span data-i18n="supportProject">支持这个项目</span></h2>
            <div class="support-actions">
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension" target="_blank" class="btn btn-primary">
                    ⭐ <span data-i18n="githubStar">GitHub Star</span>
                </a>
                <a href="#" class="btn btn-primary" style="background:#e8f0fe; color:var(--primary);">
                    📝 <span data-i18n="rateExtension">五星好评</span>
                </a>
            </div>
            <div class="support-links">
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension?tab=readme-ov-file#-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95--usage" target="_blank">📖 <span data-i18n="tutorial">使用教程</span></a>
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension/issues" target="_blank">🐛 <span data-i18n="reportIssue">报告问题</span></a>
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension?tab=readme-ov-file#-%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96--privacy-policy" target="_blank">🔒 <span data-i18n="privacyPolicy">隐私政策</span></a>
            </div>
        </section>

        <footer>
            Made with ❤️ by Ray | 100% Open Source
        </footer>

        <!-- Toast Notification -->
        <div id="save-toast" class="save-toast">✓ 设置已保存</div>
    </div>

    <script src="options.js"></script>
</body>
</html>
