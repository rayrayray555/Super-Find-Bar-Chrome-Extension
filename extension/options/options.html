<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Super Find Bar Options</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-left">
                <img src="../icons/icon128.png" alt="Logo" width="48" height="48">
                <div>
                    <h1>Super Find Bar <span class="version">v1.0.0</span></h1>
                </div>
            </div>
            <select id="lang-selector">
                <option value="zh">🇨🇳 简体中文</option>
                <option value="en">🇺🇸 English</option>
            </select>
        </header>

        <!-- 默认搜索设置 -->
        <section class="settings-section">
            <h2 class="section-title" data-i18n="defaultSearchSettings">默认搜索设置</h2>
            
            <!-- 区分大小写 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="matchCase">区分大小写</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-matchCase">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 全词匹配 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="wholeWord">全词匹配</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-wholeWord">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 高亮所有 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="highlightAll">高亮所有</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-highlightAll">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 忽略重音 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="ignoreAccents">忽略重音</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-ignoreAccents">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 正则表达式 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="regex">正则表达式</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-regex">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 包含隐藏元素 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="includeHidden">包含隐藏元素</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-includeHidden">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 模糊搜索 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="fuzzy">模糊搜索</span>
                    <label class="switch">
                        <input type="checkbox" id="opt-fuzzy">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-desc-box">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="fuzzyTolerance">容错字符数</span>
                        <div class="control-group">
                            <input type="range" id="fuzzy-tolerance" min="0" max="5" step="1">
                            <span id="fuzzy-tolerance-value" style="width: 20px; text-align: center;">1</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 自动搜索阈值 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="perfThreshold">自动搜索阈值（节点数）</span>
                    <div class="setting-control" style="display: flex; align-items: center; gap: 8px;">
                        <input type="number" id="perf-threshold" min="1000" max="50000" step="1000">
                        <button id="reset-perf-threshold" class="reset-icon-btn" title="重置">↺</button>
                    </div>
                </div>
                <div class="setting-desc-box" data-i18n="perfThresholdHint">
                    超过此数值将关闭实时搜索，需要手动按 Enter 触发
                </div>
            </div>

            <!-- 滚动行为 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="scrollBehavior">滚动行为</span>
                    <div class="setting-control radio-options">
                        <label class="radio-label">
                            <input type="radio" name="scroll-behavior" value="always-center">
                            <span data-i18n="alwaysCenter">始终居中</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="scroll-behavior" value="only-when-hidden">
                            <span data-i18n="onlyWhenHidden">仅不可见时滚动</span>
                        </label>
                    </div>
                </div>
                <div class="setting-desc-box" data-i18n="scrollBehaviorHint">
                    始终居中：避免被浮动元素遮挡，适合 ChatGPT 等网站 | 仅不可见时滚动：减少跳动，适合长文档阅读
                </div>
            </div>

            <!-- 显示右下角放大镜按钮 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="showLaunchBtn">显示右下角放大镜按钮</span>
                    <label class="switch">
                        <input type="checkbox" id="show-launch-btn">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- 刷新后自动显示 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="persistent">刷新后自动显示搜索栏</span>
                    <label class="switch">
                        <input type="checkbox" id="persistent">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </section>

        <!-- 外观与布局 -->
        <section class="settings-section">
            <h2 class="section-title" data-i18n="appearanceLayout">外观与布局</h2>

            <!-- 窗口位置 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="windowPosition">窗口位置</span>
                    <div class="position-selector">
                        <button class="pos-btn" data-position="top-left">TL</button>
                        <button class="pos-btn" data-position="top-right">TR</button>
                        <button class="pos-btn" data-position="top">TOP</button>
                        <button class="pos-btn" data-position="bottom-left">BL</button>
                        <button class="pos-btn" data-position="bottom-right">BR</button>
                        <button class="pos-btn" data-position="bottom">BOT</button>
                    </div>
                </div>
            </div>

            <!-- 多词颜色方案 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="colorScheme">多词颜色方案</span>
                    <div class="color-group" id="color-pickers-container">
                        <!-- JS 动态生成 -->
                        <div class="color-circle"><input type="color" value="#fce8b2"></div>
                        <div class="color-circle"><input type="color" value="#ccff90"></div>
                        <button id="reset-colors" class="reset-icon-btn" title="重置">↺</button>
                    </div>
                </div>
            </div>

            <!-- 主题颜色 -->
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="themeColors">主题颜色</span>
                    <div class="color-group">
                        <div class="color-circle" title="背景"><input type="color" id="theme-bg"></div>
                        <div class="color-circle" title="文字"><input type="color" id="theme-text"></div>
                    </div>
                </div>
                <div class="setting-desc-box">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="backgroundOpacity">背景透明度</span>
                        <div class="control-group" style="display: flex; align-items: center; gap: 8px;">
                            <input type="range" id="theme-opacity" min="0.5" max="1" step="0.05">
                            <span id="theme-opacity-value" style="width: 30px; text-align: right;">95%</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 快捷键设置 -->
        <section class="settings-section">
            <h2 class="section-title" data-i18n="shortcutSettings">快捷键设置</h2>
            
            <div class="setting-item">
                <div class="setting-main">
                    <span class="setting-label" data-i18n="defaultShortcut">默认快捷键</span>
                    <div class="shortcut-display">
                        <span class="key-badge">Ctrl+Shift+F</span>
                        <span style="color:var(--text-secondary); font-size:12px;">(Mac: Cmd+Shift+F)</span>
                    </div>
                </div>
                <div class="setting-desc-box warning">
                    ⚠️ <strong data-i18n="imeConflictWarning">输入法冲突提示：</strong><span data-i18n="imeConflictHint">如果 Ctrl+Shift+F 触发微软输入法简繁切换，请在系统输入法设置中关闭该快捷键。</span>
                </div>
                <div class="setting-desc-box" style="border-top: none; padding-top: 0; display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 12px; color: var(--text-secondary);" data-i18n="shortcutNotWorking">快捷键在扩展商店等系统页面不生效</span>
                    <button id="open-chrome-shortcuts" class="btn" style="border:1px solid var(--border); font-size:12px; padding:4px 12px;">
                        ⚙️ <span data-i18n="customShortcut">自定义快捷键</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- 支持项目 -->
        <section class="support-card">
            <h2>💙 <span data-i18n="supportProject">支持这个项目</span></h2>
            <div class="support-actions">
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension" target="_blank" class="btn btn-primary">
                    ⭐ <span data-i18n="githubStar">GitHub Star</span>
                </a>
                <a href="#" class="btn btn-primary" style="background:#e8f0fe; color:var(--primary);">
                    📝 <span data-i18n="rateExtension">五星好评</span>
                </a>
            </div>
            <div class="support-links">
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension?tab=readme-ov-file#-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95--usage" target="_blank">📖 <span data-i18n="tutorial">使用教程</span></a>
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension/issues" target="_blank">🐛 <span data-i18n="reportIssue">报告问题</span></a>
                <a href="https://github.com/rayrayray555/Super-Find-Bar-Chrome-Extension?tab=readme-ov-file#-%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96--privacy-policy" target="_blank">🔒 <span data-i18n="privacyPolicy">隐私政策</span></a>
            </div>
        </section>

        <footer>
            Made with ❤️ by Ray | 100% Open Source
        </footer>

        <!-- Toast Notification -->
        <div id="save-toast" class="save-toast">✓ 设置已保存</div>
    </div>

    <script src="options.js"></script>
</body>
</html>
